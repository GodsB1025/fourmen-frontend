.sidebar {
    position: sticky; /* 스크롤해도 좌측에 고정 */
    top: 0;
    display: grid;
    grid-template-rows: auto 1fr auto; /* user / nav / logout */
    width: 240px;
    height: 100%;
    background: var(--sidebar-bg);
    border-right: 1px solid var(--line);
    padding: 16px 10px;
    z-index: 20;
}

/* 사용자 정보 */
.user {
    padding: 8px 8px 18px; /* 상단 여백 줄이고 하단 여백 늘림 → 위로 이동 */
    /* border-bottom: 1px solid var(--line);  구분선 제거 */
}
.user-name {
    display: block;
    font-weight: 700;
    font-size: 1rem;
    color: var(--text);
    padding: 0 0 2px; /* 이름-이메일 사이 아주 살짝 간격 */
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}
.user-email {
    display: block;
    font-size: 0.9rem;
    color: var(--muted);
    white-space: nowrap;
    text-overflow: ellipsis;
}

/* ───── 메뉴 리스트 ───── */
.nav {
    padding: 28px 4px 8px; /* 상단 여백 늘림 → 아래로 이동 */
    display: flex;
    flex-direction: column;
    gap: 24px;
}
.nav-item {
    position: relative;
    display: flex;
    align-items: center;
    gap: 10px;
    width: 100%;
    padding: 12px 14px;
    border: 2px solid transparent;
    background: transparent;
    color: var(--text);
    border-radius: 8px;
    cursor: pointer;
    transition: background-color 0.15s ease, color 0.15s ease, border-color 0.15s ease;
    box-shadow: none;
}
.nav-item:not(.is-active-sidebar):hover {
    border-color: var(--primary);
    background-color: var(--primary-hover);
    color: var(--text);
}
.nav-item.is-active-sidebar {
    background-color: var(--primary);
    border-color: var(--primary);
    color: var(--text-btn);
}
.icon-sidebar {
    width: 20px;
    display: inline-flex;
    justify-content: center;
}
.nav-item > span {
    font-size: 1rem;
}

#sidebar-unread-badge {
    position: absolute;
    right: 8px;
    background-color: #ef4444;
    box-shadow: 
    inset -2px -2px 4px #ef4444,
    inset 2px -2px 4px #ef4444,
    inset 0px 2px 3px #e9a9a0;
    color: white;
    font-size: 0.8rem;
    font-weight: bold;
    padding: 2px 6px;
    border-radius: 999px;
    min-width: 18px;
    text-align: center;
    line-height: 1;
}

/* ───── 로그아웃 ───── */
.logout {
    margin-top: auto;
    padding: 12px 4px 0;
    /* border-top: 1px solid var(--line);  구분선 제거 */
}
.logout-btn {
    display: flex;
    align-items: center;
    gap: 10px;
    width: 100%;
    padding: 12px 14px;
    border: 0;
    background: transparent;
    color: var(--text);
    border-radius: 8px;
    cursor: pointer;
    transition: background 0.15s ease;
    box-shadow: none;
}
.logout-btn span {
    font-size: 1rem;
}
.logout-btn:hover {
    background: #f93737;
}
.logout-btn:hover span {
    color: #fff;
}
.logout-btn:hover svg {
    color: #fff;
}

.label.danger {
    color: #f93737;
}

/* ───── 접근성 ───── */
.nav-item:focus-visible,
.logout-btn:focus-visible {
    outline: none;
    box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.25);
    border-radius: 8px;
}

/* --- 비활성화 & 툴팁 스타일 추가 --- */
.nav-item:disabled {
    background-color: none;
    color: #9ca3af;
    cursor: auto;
}

.nav-item:disabled:hover {
    background-color: #f3f4f6;
}

.nav-item:disabled .icon-sidebar,
.nav-item:disabled .label {
    color: #9ca3af;
}

.tooltip {
    visibility: hidden;
    width: 100px;
    background-color: #555;
    color: #fff;
    text-align: center;
    border-radius: 6px;
    padding: 5px 0;
    position: absolute;
    z-index: 1;
    left: 105%; /* 버튼 오른쪽에 위치 */
    top: 50%;
    margin-top: -15px;
    opacity: 0;
    transition: opacity 0.3s;
}

.tooltip::after {
    content: "";
    position: absolute;
    top: 50%;
    right: 100%; /* 화살표를 왼쪽에 */
    margin-top: -5px;
    border-width: 5px;
    border-style: solid;
    border-color: transparent #555 transparent transparent;
}

.nav-item:disabled:hover .tooltip {
    visibility: visible;
    opacity: 1;
}
/* Sidebar.css 파일의 기존 코드 아래에 추가 */

.user-profile-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 8px; /* 이름과 버튼 사이 간격 */
}

/* 헤더와 동일한 버튼 스타일 재사용 */
.theme-toggle-btn {
  background: none;
  border: 1px solid transparent;
  cursor: pointer;
  padding: 4px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--muted);
  transition: background-color 0.2s ease, color 0.2s ease, border-color 0.2s ease;
  flex-shrink: 0; /* 버튼이 찌그러지지 않도록 설정 */
}

.theme-toggle-btn:hover {
  background-color: var(--line);
  color: var(--text);
}

.theme-toggle-btn svg {
    width: 20px;
    height: 20px;
}

.theme-toggle-btn .theme-gif {
  width: 22px; /* 아이콘 크기와 동일하게 설정 */
  height: 22px;
  object-fit: contain; /* 이미지가 찌그러지지 않도록 함 */
}